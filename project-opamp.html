<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two-Stage Folded Cascode Opamp - Srijith Reddy Pakala</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', system-ui, sans-serif; line-height: 1.6; color: #1d1d1f; background: #fff; }
        nav { position: fixed; top: 0; width: 100%; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(20px); z-index: 1000; border-bottom: 1px solid rgba(0, 0, 0, 0.1); }
        nav ul { display: flex; justify-content: center; list-style: none; padding: 1rem 0; max-width: 980px; margin: 0 auto; }
        nav a { text-decoration: none; color: #1d1d1f; padding: 0.5rem 1.5rem; font-size: 14px; font-weight: 500; transition: color 0.3s; }
        nav a:hover { color: #0066cc; }
        .container { max-width: 980px; margin: 0 auto; padding: 120px 20px 50px; min-height: 100vh; }
        .back-link { display: inline-flex; align-items: center; gap: 0.5rem; color: #0066cc; text-decoration: none; font-size: 14px; font-weight: 500; margin-bottom: 2rem; transition: transform 0.3s; }
        .back-link:hover { transform: translateX(-4px); }
        .project-icon-large { width: 80px; height: 80px; background: linear-gradient(135deg, #0066cc, #0099ff); border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 36px; color: white; margin-bottom: 1.5rem; }
        .project-title { font-size: 56px; font-weight: 700; letter-spacing: -0.02em; margin-bottom: 1rem; line-height: 1.1; }
        .project-tags { display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1.5rem; }
        .tag { background: #f5f5f7; padding: 8px 16px; border-radius: 16px; font-size: 13px; color: #0066cc; font-weight: 500; }
        .project-summary { font-size: 20px; color: #6e6e73; line-height: 1.7; }
        .specs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem; margin: 3rem 0; }
        .spec-card { background: #f5f5f7; border-radius: 18px; padding: 1.5rem; text-align: center; }
        .spec-label { font-size: 14px; color: #6e6e73; font-weight: 500; margin-bottom: 0.5rem; }
        .spec-value { font-size: 28px; font-weight: 700; color: #0066cc; }
        h2 { font-size: 36px; font-weight: 700; margin-bottom: 1.5rem; margin-top: 3rem; }
        h3 { font-size: 24px; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
        p { font-size: 17px; line-height: 1.8; margin-bottom: 1.5rem; }
        ul { margin-left: 2rem; margin-bottom: 1.5rem; }
        li { font-size: 17px; line-height: 1.8; margin-bottom: 0.8rem; }
        .highlight-box { background: #f5f5f7; border-left: 4px solid #0066cc; border-radius: 12px; padding: 2rem; margin: 2rem 0; }
        .highlight-box h3 { margin-top: 0; color: #0066cc; }
        @media (max-width: 768px) {
            .project-title { font-size: 40px; }
            h2 { font-size: 28px; }
            .specs-grid { grid-template-columns: repeat(2, 1fr); }
            nav a { padding: 0.5rem 0.8rem; font-size: 13px; }
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="experience.html">Experience</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="blogs.html">Blogs</a></li>
        </ul>
    </nav>

    <div class="container">
        <a href="projects.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Back to projects
        </a>

        <div class="project-header">
            <div class="project-icon-large"><i class="fas fa-microchip"></i></div>
            <h1 class="project-title">Two-Stage Folded Cascode Opamp</h1>
            <div class="project-tags">
                <span class="tag">Analog IC Design</span>
                <span class="tag">OpAmp Design</span>
                <span class="tag">180nm IBM CMOS</span>
                <span class="tag">Low Power</span>
            </div>
            <p class="project-summary">
                Designed a high-performance two-stage operational amplifier with constant Gm bias circuit in 180nm IBM 
                CMOS, achieving exceptional power efficiency—10x better than class average while maintaining 80 MHz UGBW 
                and 65° phase margin through Miller compensation.
            </p>
        </div>

        <div class="specs-grid">
            <div class="spec-card"><div class="spec-label">Unity Gain BW</div><div class="spec-value">80 MHz</div></div>
            <div class="spec-card"><div class="spec-label">Phase Margin</div><div class="spec-value">65°</div></div>
            <div class="spec-card"><div class="spec-label">Power</div><div class="spec-value">128 µW</div></div>
            <div class="spec-card"><div class="spec-label">Technology</div><div class="spec-value">180nm</div></div>
        </div>

        <h2>Project Overview</h2>
        <p>
            This project focused on designing a two-stage operational amplifier optimized for power efficiency while 
            maintaining high performance. Operational amplifiers are fundamental building blocks in analog and mixed-signal 
            circuits, used in applications ranging from signal conditioning to data converters and filters.
        </p>
        <p>
            The key achievement was reducing power consumption to 128µW—10 times lower than the class average—while 
            still meeting all performance specifications including bandwidth, phase margin, and DC gain.
        </p>

        <h2>Architecture and Design</h2>
        
        <h3>First Stage: Folded Cascode</h3>
        <p>A folded cascode architecture was chosen for the input stage due to several advantages:</p>
        <ul>
            <li><strong>High DC gain:</strong> The cascode topology provides excellent output resistance, translating to high intrinsic gain</li>
            <li><strong>Wide input common-mode range:</strong> PMOS input pair allows rail-to-rail input capability</li>
            <li><strong>Single dominant pole:</strong> High output impedance creates a well-defined dominant pole for compensation</li>
            <li><strong>Low noise:</strong> Properly sized input pair minimizes input-referred noise</li>
        </ul>

        <h3>Second Stage: Common Source</h3>
        <p>The second stage provides additional gain and drives the output load:</p>
        <ul>
            <li>Common source amplifier for voltage gain and current drive capability</li>
            <li>Sized to minimize contribution to overall output noise</li>
            <li>Optimized for driving capacitive loads typical in SC circuits</li>
        </ul>

        <h3>Constant Gm Bias Circuit</h3>
        <p>A constant-gm bias network was implemented to ensure stable performance across PVT variations:</p>
        <ul>
            <li>Uses resistor-based feedback to stabilize transconductance</li>
            <li>Compensates for temperature and process variations</li>
            <li>Ensures consistent bandwidth and slew rate across corners</li>
            <li>Minimal overhead in terms of power and area</li>
        </ul>

        <div class="highlight-box">
            <h3>Miller Compensation Strategy</h3>
            <p>
                Miller compensation was used to ensure stability with capacitive loads. A compensation capacitor (Cc) 
                connects from the output to the first stage output, creating a dominant pole at the first stage and 
                pushing the second pole beyond the unity-gain frequency. Right-half-plane zero was addressed through 
                nulling resistor placement or through feedforward techniques.
            </p>
        </div>

        <h2>Power Optimization Techniques</h2>
        <p>Achieving 10x lower power than average required multiple optimization strategies:</p>
        
        <h3>1. Optimal Bias Point Selection</h3>
        <ul>
            <li>Operated all transistors in moderate inversion (gm/ID ≈ 15-20 S/A) for maximum efficiency</li>
            <li>Avoided both weak inversion (too slow) and strong inversion (power inefficient)</li>
            <li>Used larger W/L ratios to achieve target gm at lower currents</li>
        </ul>

        <h3>2. Careful Transistor Sizing</h3>
        <ul>
            <li>Input pair sized for target input-referred noise while minimizing current</li>
            <li>Cascode devices minimum size to reduce parasitic capacitances</li>
            <li>Load devices optimized for required output resistance without excess current</li>
        </ul>

        <h3>3. Frequency Compensation Optimization</h3>
        <ul>
            <li>Minimized Miller capacitor size to reduce power-bandwidth product penalty</li>
            <li>Optimized nulling resistor to move RHP zero without increasing Cc</li>
            <li>Careful pole-zero placement to maximize phase margin with minimum compensation</li>
        </ul>

        <h2>Performance Analysis</h2>
        
        <h3>AC Performance</h3>
        <ul>
            <li><strong>DC Gain:</strong> Greater than 70 dB, providing excellent DC precision</li>
            <li><strong>Unity-Gain Bandwidth:</strong> 80 MHz, suitable for high-speed applications</li>
            <li><strong>Phase Margin:</strong> 65°, ensuring stable closed-loop operation</li>
            <li><strong>Gain Margin:</strong> > 10 dB for robust stability</li>
        </ul>

        <h3>Transient Performance</h3>
        <ul>
            <li><strong>Slew Rate:</strong> Optimized for typical signal swings without excessive power</li>
            <li><strong>Settling Time:</strong> Met requirements for 0.1% accuracy in < 100ns</li>
            <li><strong>Small Signal Step Response:</strong> Clean response with minimal ringing</li>
        </ul>

        <h3>Power and Efficiency Metrics</h3>
        <ul>
            <li><strong>Total Power:</strong> 128 µW from 1.8V supply (71 µA total current)</li>
            <li><strong>Figure of Merit:</strong> FoM = (Cc × VDD) / (Power) = Excellent efficiency</li>
            <li><strong>Comparison:</strong> 10x better power efficiency than class average design</li>
        </ul>

        <div class="highlight-box">
            <h3>Key Design Insight</h3>
            <p>
                The exceptional power efficiency was achieved by operating transistors in the optimal bias region 
                (moderate inversion), careful sizing to minimize parasitic capacitances, and intelligent frequency 
                compensation that required minimal compensation capacitor size. Every microamp of bias current was 
                scrutinized and justified for its contribution to performance.
            </p>
        </div>

        <h2>Design Challenges and Solutions</h2>
        
        <h3>Challenge 1: Stability with Capacitive Loads</h3>
        <p>Solution: Implemented adaptive biasing in output stage and optimized compensation network for worst-case load</p>

        <h3>Challenge 2: Noise vs. Power Trade-off</h3>
        <p>Solution: Optimized input pair size and used minimum-length devices for better gm/ID, meeting noise spec at minimal current</p>

        <h3>Challenge 3: PVT Variation Tolerance</h3>
        <p>Solution: Constant-gm bias circuit ensured consistent performance across all process, voltage, and temperature corners</p>

        <h2>Technical Skills Demonstrated</h2>
        <ul>
            <li>Two-stage amplifier architecture and compensation techniques</li>
            <li>Small-signal analysis and frequency response characterization</li>
            <li>Pole-zero placement and stability analysis</li>
            <li>Power optimization and gm/ID methodology</li>
            <li>Systematic design approach from specifications to implementation</li>
            <li>Understanding of MOS device physics in various operating regions</li>
            <li>Cadence Virtuoso schematic capture and Spectre simulation</li>
            <li>Corner analysis and Monte Carlo simulations</li>
        </ul>

        <h2>Conclusion and Future Work</h2>
        <p>
            This project demonstrated that significant power savings are possible through careful optimization and 
            understanding of device physics. The 10x improvement over class average validates the systematic design 
            approach and attention to efficiency.
        </p>
        <p>Potential enhancements:</p>
        <ul>
            <li>Implement rail-to-rail output stage for full swing capability</li>
            <li>Add chopper stabilization for reduced offset and 1/f noise</li>
            <li>Explore class AB output stage for improved large-signal performance</li>
            <li>Design for layout and perform post-layout verification</li>
        </ul>
    </div>
</body>
</html>
